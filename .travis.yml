sudo: false
language: java
jdk:
- oraclejdk8
branches:
  except:
    - linksprite-ngsi
script: mvn test jacoco:report coveralls:report -q
deploy:
  - provider: script
    script: scripts/ci-deploy.sh
    skip_cleanup: true
    on:
        branch: master
  - provider: script
    script: scripts/ci-release.sh
    skip_cleanup: true
    on:
        tags: true
notifications:
    webhooks: http://lametric-dev.kermit.orange-labs.fr/travis
cache:
  directories:
    - $HOME/.m2
env:
  global:
  # SONATYPE_USER, SONTAYPE_PASSWORD, DOCKER_USER, DOCKER_KEY, COVERITY_SCAN_KEY, BINTRAY_KEY, GPG_PASSPHRASE, GPG_KEYNAME
  - secure: "z9mRnyfsJbEhsMbkHoMh1yNZkq8u8bTDYfB5JZY2/zmijmOS7X10MF1oDovyfkGQ358eUBvy0vuksrdjGLiKGdkLVgqi05BtIOy+C3wxXGUpDj1cBSZ632jWbRub2stVs+SUiBHqMAXUlesy0+g3lqFl0XecLXpXRREREJWKmVrYPMzsbheOKaoeLniTXSkEz954imQrOyOhMpSX5awz3yZV1t3EUcGssR5rs3O1fB/5pJaR/yTp8Sb9ZSbScDi7XatSIyp5oHgqvl9ctD8OHQx5HkNYH2sewuFlQYD8NOZ0LMdJr84X06TPbkFafo4oVM3PU1dOnHYeBH+E9tSa5x9hspClE7fPyQilNKi3NJUDn1IjQNOnQjqjPTue60hLBqOQgXASjqS/QbdK2S5NsB9exqOoM5mXMiAVC9JIm/0tlhf7TgnhQqXzGBVsEtxCIGHQokUDUwvgMWlYXFoTKwaQxDX9uGwyfSsHg5HxlE+DtsQw6AG0Re+S2+G9QCMpEiF5AblItPNt+azYppsVAF38qdrN5uxwC5ewMoDIXKmqiwLi0v509T/u9uYcovWiYfv16rZHX3NhtHd2wTjDIp36Q2txrYil3XbHhxEoj36W8zavvZ1+mVkWHZBMyhpv1IPO1XtPryKZhtFlJZBOgYBELBemhbLnotuNWO14K0A="
  - secure: "KgP6A/UVMUtbsSBjHDpQCowE78bG+KCwAgOiVaHZA5og7fAfJ4MwiQiujmO3lSMhxU2S46xuI1U+fhflBjvK9ynmnw054nxCtZG+Kn+/5vPnAeM61UmXDwvJlOiEDuF6emDZr5Ldy9hreE1Xja48BeQSa3f+v9Jm2cBrsfma8OwgQT7pBfDQuNSsHcqWZBULG142R0XxzxT9t14m64+dGsDXx9IQG5GYKQgPE4ITdgHZ2jYz+a8gvX/4Q0UgmqYb8QUi7qb+ZQwVoSxxtaXgw6haZe7a/CWfH7I1j+vRB5gNmfgVC+NqcutaBaf8pM5gkyEJpwenmZeTLaBNbvLAuNaPcGab7w2OxihfrpgvH1Zt7wSuwQSXiwUfBFsv+VT7Uf0hN7geCft5xOlZu+28qOhVJS8N7i6HvfEGWPKQOnNOoJNIP2aQnyM4qnvLs9zXxUtIZtut+nF0qOOmwPnvrGPXo+lEZ++HvULastbxQ0u5vzoYJyq9EvVhvMCkTVnybTfY1h6dIE4kE8OP3xpFb8oSHjP5NtErs3/xuuMdXuNRrO8Cgp2Ux67uriDYRBb01FYAQyhPtIYM96Gc+mBb08vQCTxcPUWnmNzebax/2Sd+MJ36c5V+k3/ANSLtu1YcKn8BcDtIH1zkmvAYSF2o8OD66AEfGqflOyEv8r6NaXU="
  - secure: "MtW+ALepzhZ4kpIRU8Gj7NbSDVt5TuuLxZosQ4ecsD+/MF9SObv2dZn6hFVcyZzW7Rj31fGVXwVoPsRhFcjISugAttAO7H/geveZW8GMUIwC0xmy17VF9pFGbf6fWQaO8kgpEXb7hcDRg1jjAPZDd3+nZ+S5cL5u58BQnhwDU11NC3GuQdLDRTxsMhNfJVagPYNh9of2WmPEd4rAupKaxxad6+zHna6TKWmk19aAvPWkdkue9XXc4NHT8YGe2biwvkHDlSEjb3zlkkWqdZQVKXU6bihjN6Wz04tFdDvoQNCZLyO3ptgsACL5Cxp1wlUY0mhmw/irCKPCUCCV0MqXMLNd7V3P4hZobf33Ffl7fzF+7/VAHQNQQVc2fhPtXOcsEzceQ1SkoQAFt3CJFJStiuBQSw7+fpMochd1ekfjKhO0gmcFm/R1vO1BwyNoPWy2UDRN6OeC8ErnJKNIs0J5VP21h4zJcn9yafB5l/Mm7wuZb/dJiO3Y+5kGabtdKb1HzbU/zHb8FoGQTyNN4cTsNM/P/O5CUeQGltUOUjZcibDa+aC/9iwtLXAdhEVPzXdRwclYYmOV13ZRR4aMXRfg8U46L17DOouXE4A9A//gTbZ+dmn22o6cXck1zdsJVBVQdecj1OoywrH3viDrwABhQ+rg5zXRpBPo+MLFl72vtoo="
  - secure: "OFjd49AkGSHFVGGkXm66u+MS+kHmCNjjqAdVV78KWwqSXKv8hUGlJ5WHmCP7s7m3mnDzXm99aXJW58d8Awb7NYLznpb3chG66I+jcva1kZ2qHx2MX00oDUSm2nGtCSMw5f+QJiSGfiIf9jtW/UsU89vLyenuUnlNVsFc1M3A8/wKs9MzoKy2uC7Md9CW3E/h5p8RmUTIDiGCWtBHs/dHSnq6LhJZEhaaNs2EO4Tr/Jf224uptCTrXrv84lCQQLKPGEXYEEb+/U1/Y5xEaW6qkTo+cFKOSQ9TmaR7NhFaZAc6LohaI3boA8aOCYPcFTdj3QwRylj89sLHUzTISJjoEa8kHwOSmqCSunojK+Q7wLB7EO14aZs4YJSjVekf11L70h/wHgQj+wTLX5LWJAxYAMXREmMZLtsc761U26HhC617bWAKmUyKGCJOVt4F/2gxoZvt/1qxr1DExeLWbVcu1CNvzO3Fbr0L36Cr1RS2hq7bSY+Cr9R/Y6O+Xx2Xl09mHhR8IpvFcfgnDW/1+sf/goGSC+ujxGsWVtFP15++T2iv41nleeI+3AHyvYhfe0DJnZJcXTXv+fwJ9wsqbEA9ppnaJSthbvT5KzfFHEUuv3JHZ2wLndUDY4T5vYr3pXWtC2zzenzNv2Ycy339Z+hrAGLK1zv+nYHFLAkY8X1fS5A="
  - secure: "ZSLJ+vibc5D5yUzRqTNxMuHBKKbTqWxRLFahw7RJfM4W+mP5zjaGOHlJvvpa0BvJVHcYg5+wjzYNC6H9d/4pfT3eLw/cm92QibTqGlIOScrzOSb2JgWh6zk1CYx94VUH9BbswWy22uLgw8RwkbGgfZeUFCTF/ZleH8i5dGyvv6TnA0Z5Utv77E0C7yoIgb3gu8snXjqFlBXyYTlO2vEwLD45+IJjcfxbMZ8YmsQosgELi9lnZjAN0azZuaDMxDC2cQ1S1z0WnrIzT1vv1/YH+qvc4Y3fsMMrsueEkmbcE79cXkKdbg7zVGDkerVTSvoWQpJENrBskRsw4ClUBgzIM6/wnX+M5IbucdwxGq89z9tuTNm10b7jGOjajBMK7lWH8KeqPvuxuT22un6lMy/slN96X/nFVE+jKayR+uV8Wpwp8Vu9XiKaOK8wb/J2ieDSWpH3oIK1YaGNeX8vgkKjy7rZYTyBRqS1rePQzjsPmf4mKm/6YM4sfJR6XmU8UktxHHykF7Z8LO4a0gF/Yd4sF09pCeKG7hdqbCAKPcwKqvzYA8P3AGBarjFRy+ouWS6K7YzK5w4J26d0G+Zn1liU9fcdQxFw67GzSd5p6xngWp6saHHtUKboEPhSosnlkH9tDlco4VDMFA9AwaH7Y18TfDfad+Uw8a5zkVdUbRsjvRQ="
  - secure: "qKldKuX8fkysGXLwTvt6QqSL5xbQ/toEkrK6n84uFuZiPmECLEwC+nuGvHeqRQl3GBJqVW4OEbDr1lkQMtXChy+JGm6roG6rhcmPDxxSCtMwxQPy3KagFafhcIMJwma8hOsXsNHmbUFst2w6nIc4W2+Qpi4OdyjRzlhck89M79zktBRlBM0tUgVr6/Iatr9LadmkWMH7fmvjYD6F/0mpSBRyA1GqsXaiBXvgWIMPbpoVjqRTUL/JjaiqnNsdPme4Vq/G+q93MjORSTwZAAhrpDiI2kstfKLxOn6GU0sBNdi+XVDZTrXtoymuYL98ssPe4BzB2W/STBTKeMpadBxRNDkp7oeJpgL5ssBd1Fj+MfBO8Vp2cbaarNiAzfVXyvgOtbpCrhpv7jNkQ0dof4Nv0JZH38XeIHzdGGFsNmDLtWSuz6QQHt9tzzYearoWoVuX34BlICaYHAtSu+coMT24tvuB0PaaotNpE2ONmdFbt1js9aNA8r9hFJ4aO6KuPKUQIiFct5QQ/ahNx8YIst6SL1gPaMY0Xyv+4TKOQj2n5Qq6zihv1Tjazkqxr8dHE9tNWfcYis3zD5udo5UPMCbjgduNsAMm00QDur0PDjRqYhGGqpJfHnaqWuQWaeLT39NOc392lAihvk4mYsglpe51hoJzmz0tAEL9v8vJFXpsDa0="
  - secure: "LP6DASTWPi1BnFi1mfmgee/DPBFGXzMtKkEhDWVKqqPQEdiVcFTUTA82UevzrOLndOEYbq6RWEKvY2O2qvDTKt/YmR6dBB1zAokwOWQa8AaJNRGo2yQzwUoDQje/TRRAoMz9t1NqIn9eolZ4oYbDode7ox0xGfEhPVYka5hx0cfworC5vBqSwfGD7VHCwKAGx2NBvIcA80g4x4Pl+ZHkoA24Tk6ANmybXHs4hPzrAVxFX8G7gtwGopGY812JR+cutC2B7OBds+nLzIIOJs+SkvKF/ma0W8qBr/rBByaWN3azeCUdano/DGaNZHAHL88CF/M0AiIVvY1yxZzwH6EHE0MVS3SdhSs6mfChnuvcQ8op8OUKUD983j0mo231Cpu3XwU8SbxPOwGlT18lUSfiaF1ucS8SIIW7n9iJ7A9xMEPG7IImN6bStZiJdhgLDtwwsfUeycojWiVpR7kDe1HKnn2e9Vq6B2bQ/8i8A5jB3h/4XZZhrUHDyTQ+iOke6wbylfV1Lbs6Hd7gfdRf0G5pQmBIH/WddOGTIlwAFKYM3+MlEKQSkWSRDYJUugSvHkUzN/7bmbNkTZ8trWWiRcW9O0BOPTU4V8rLEInkH86UgbX57Jz6MFFNaHIfdxifFJtzbQfagvbmkMQ5acr9ASqcx7ne5Bjw52yU90//P16vMQU="
addons:
    coverity_scan:
      project:
        name: "Orange-OpenSource/fiware-cepheus"
      notification_email: pascale.borscia@orange.com
      build_command_prepend: "mvn clean"
      build_command:   "mvn -DskipTests=true compile"
      branch_pattern: coverity_scan
